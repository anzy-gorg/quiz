<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Physical Education Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background-color: #eef6fb;
      padding: 20px;
    }
    h1 {
      text-align: center;
    }
    .question {
      background: #fff;
      padding: 15px;
      margin-bottom: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    input[type="text"] {
      width: 100%;
      padding: 8px;
      margin-top: 8px;
    }
    .answer {
      margin-top: 8px;
      color: green;
      font-weight: bold;
    }
    button {
      display: block;
      margin: 20px auto;
      padding: 10px 30px;
      font-size: 16px;
      cursor: pointer;
    }
    #score {
      text-align: center;
      font-size: 20px;
      margin-top: 20px;
    }
    #popup, #overlay {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
    }
    #overlay {
      background: rgba(0,0,0,0.5);
      z-index: 9;
    }
    #popup {
      background: white;
      border-radius: 10px;
      padding: 20px;
      width: 80%;
      max-width: 600px;
      margin: auto;
      top: 10%;
      left: 0;
      right: 0;
      position: absolute;
      z-index: 10;
      box-shadow: 0 0 20px rgba(0,0,0,0.4);
    }
    #popup h3 {
      margin-top: 0;
    }
  </style>
</head>
<body>

<h1>Physical Education Quiz (Exact Wordings)</h1>
<form id="quizForm"></form>

<button onclick="submitQuiz()">Submit Quiz</button>
<div id="score"></div>

<div id="overlay"></div>
<div id="popup">
  <h3>Correct Answers Summary</h3>
  <ul id="correctAnswersList"></ul>
  <button onclick="closePopup()">Close</button>
</div>

<script>
  const questions = [
    "1. PHYSICAL EDUCATION is the education of ____, and through human movement.",
    "2. Ancient Greece 'mens sana en corpore sano' means ____, ____, ____.",
    "3. PHYSICAL FITNESS means the ability to carry one's workload without ____ and participate in recreation.",
    "4. Components of Physical Fitness (1 of 2).",
    "5. Components of Physical Fitness (2 of 2).",
    "6. Health related component: ability of the heart, blood vessels and lungs to deliver essential nutrients.",
    "7. Health related component: ability of a muscle or group to exert one maximal force.",
    "8. Explosive strength is apparent in activities requiring ____, ____, and sudden changes in direction.",
    "9. Static strength requires little muscle shortening and is necessary in overcoming ____ ____.",
    "10. Dynamic strength is found in ____ muscle contraction.",
    "11. Muscular endurance is the ability of a muscle or group to exert ____ muscular contraction.",
    "12. Joint flexibility is the ability of the joints to move through the ____ ____ of motion.",
    "13. Body composition is the relationship between ____ tissue and lean body tissue.",
    "14. Skill related component: ability to make successive movements in shortest possible time.",
    "15. Power refers to the ability to release maximum ____ in the shortest possible time.",
    "16. Agility is the ability to change position or direction with quickness and ____ of movement.",
    "17. Balance is the ability to control organic equipment neuromuscular state of ____.",
    "18. Static balance is maintaining a ____ position.",
    "19. Dynamic balance is maintaining balance while ____.",
    "20. Reaction time refers to the interval of time between the signal to respond and the beginning of the ____."
  ];

  const correctAnswers = [
    ["by"],
    ["a", "sound", "mind"], // Will accept any of the three words
    ["staggering"],
    ["health related"],
    ["skill related"],
    ["cardio-respiratory endurance"],
    ["strength"],
    ["movement", "speed", "direction"], // Any is accepted
    ["heavy", "resistance"], // Any is accepted
    ["repeated"],
    ["repeated"],
    ["full", "range"], // Accept any of the words
    ["fat"],
    ["speed"],
    ["force"],
    ["lightness"],
    ["equilibrium"],
    ["fixed"],
    ["moving"],
    ["response"]
  ];

  const form = document.getElementById("quizForm");

  // Render form
  questions.forEach((q, i) => {
    const div = document.createElement("div");
    div.className = "question";
    div.innerHTML = `
      <p>${q}</p>
      <input type="text" name="q${i}">
      <div class="answer" id="a${i}"></div>
    `;
    form.appendChild(div);
  });

  function normalize(str) {
    return str.trim().toLowerCase().replace(/[^a-z0-9 ]/g, "").replace(/\s+/g, " ");
  }

  function submitQuiz() {
    let score = 0;
    const answersList = document.getElementById("correctAnswersList");
    answersList.innerHTML = "";

    questions.forEach((q, i) => {
      const userInput = document.querySelector(`[name="q${i}"]`).value;
      const answerDiv = document.getElementById(`a${i}`);
      const normalizedInput = normalize(userInput);

      const isCorrect = correctAnswers[i].some(ans => normalizedInput.includes(normalize(ans)));

      if (isCorrect) {
        score++;
        answerDiv.style.color = "green";
      } else {
        answerDiv.style.color = "red";
      }

      answerDiv.innerText = "Correct Answer: " + correctAnswers[i][0];

      const li = document.createElement("li");
      li.innerText = `Q${i + 1}: ${correctAnswers[i][0]}`;
      answersList.appendChild(li);
    });

    document.getElementById("score").innerText = `You scored ${score} out of ${questions.length}`;
    document.getElementById("popup").style.display = "block";
    document.getElementById("overlay").style.display = "block";
  }

  function closePopup() {
    document.getElementById("popup").style.display = "none";
    document.getElementById("overlay").style.display = "none";
  }
</script>

</body>
</html>
